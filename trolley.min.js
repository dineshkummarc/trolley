trolley=function(){function b(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(b){return a=new b2World(new b2Vec2(0,-9.81),!0),a.SetWarmStarting(!0),a}function d(c,d,e){var f;if(arguments.length<2)throw"body needs x and y";return function(){function h(a,c){fixtureDef=new b2FixtureDef,b(fixtureDef,{density:1}),b(fixtureDef,c),fixtureDef.shape=a;var d=f.body.CreateFixture(fixtureDef);return f}var f=this,g=new b2BodyDef;return typeof e=="boolean"&&e?g.type=b2Body.b2_staticBody:g.type=b2Body.b2_dynamicBody,typeof e=="object"&&b(g,e),g.position.Set(c,d),f.body=f.b=a.CreateBody(g),f.box=function(a,b,c,d,e){var f,g,i;if(arguments.length<2)throw"box must have width and height";return arguments.length<4&&(e=c,c=a,d=b,a=b=0),f=c/2,g=d/2,a+=f,b+=g,i=new b2PolygonShape.AsBox(f,g),i.m_vertices.forEach(function(c){c.x+=a,c.y+=b}),h(i,e)},f.polygon=function(a,b,c,d){var e,f;if(arguments.length<1)throw"polygon must have an array of arrays";return arguments.length<3&&(d=b,c=a,a=b=0),c=c.map(function(a){return new b2Vec2(a[0],a[1])}),f=new b2PolygonShape.AsArray(c,c.length),h(f,d)},f.circle=function(a,b,c,d){var e,f;if(arguments.length<1)throw"circle must have radius";return arguments.length<3&&(d=b,c=a,a=b=0),e=c/2,f=new b2CircleShape(e),a+=e,b+=e,f.SetLocalPosition(new b2Vec2(a,b)),h(f,d)},f.b=box,f.c=circle,f}()}function e(){return function(){function e(e,f,g){var h=e.GetPosition();return arguments.length===1&&(f=g=0),f+=h.x,g+=h.y,c.push([e,f,g]),c.length===2&&(b.joint=d.Initialize(c[0][0],c[1][0],new b2Vec2(c[0][1],c[0][2]),new b2Vec2(c[1][1],c[1][2])),a.CreateJoint(d)),b}var b=this,c=[],d=new b2DistanceJointDef;return b.a=b.b=e,b}()}var a;return{init:c,body:d,b:d,joint:e}}();