trolley=function(){function b(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(){return a=new b2World(new b2Vec2(0,-9.81),!0),a.SetWarmStarting(!0),a}function d(c,d,e){return function(){function h(a,c){return fixtureDef=new b2FixtureDef,b(fixtureDef,{density:1}),b(fixtureDef,c),fixtureDef.shape=a,f.body.CreateFixture(fixtureDef),f}var f=this,g=new b2BodyDef;return e?g.type=b2Body.b2_staticBody:g.type=b2Body.b2_dynamicBody,g.position.Set(c,d),f.body=f.b=a.CreateBody(g),f.box=function(a,b,c,d,e){arguments.length===3&&(e=c),arguments.length>=2?(d=b,c=a):arguments.length===1&&(e=a);var f=new b2PolygonShape.AsBox(c,d);return h(f,e)},f.circle=function(a,b,c,d){arguments.length===2?(d=b,c=a):arguments.length===1&&(c=a);var e=new b2CircleShape(c);return h(e,d)},f}()}var a;return link=function(a,b){var c=new box2d.RevoluteJointDef;c.anchorPoint.Set(a.m_position.x,a.m_position.y+1),c.body1=a,c.body2=b,trolley.world.CreateJoint(c)},createBridge=function(a,b,c){var d=trolley.body(trolley.world,a,b).box(5,2).create(),e=1,f;for(;e<10;e++)f=trolley.body(a+e*15,b).box(5,2,{density:20,friction:.5}).create(),trolley.link(d,f),d=f;f=trolley.body(a+e*15,b).box(5,2).create(),trolley.link(d,f)},{init:c,body:d,b:d}}();